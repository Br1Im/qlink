# üéâ –í–°–Å –†–ê–ë–û–¢–ê–ï–¢!

## –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã: ‚úÖ –†–ê–ë–û–¢–ê–ï–¢

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- ‚úÖ **qlink-postgres** - Up (healthy)
- ‚úÖ **qlink-redis** - Up (healthy)  
- ‚úÖ **qlink-backend** - Up (API –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 4000)
- ‚úÖ **qlink-frontend** - Up (—Å–∞–π—Ç –Ω–∞ –ø–æ—Ä—Ç—É 3001)

### –î–æ—Å—Ç—É–ø
- **Frontend**: http://217.114.7.3:3001
- **Backend API**: http://217.114.7.3:4000

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. Docker Frontend
- –ü–µ—Ä–µ–ø–∏—Å–∞–Ω Dockerfile –Ω–∞ production build
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ—Ä—è–¥–æ–∫ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω tsconfig.json –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- –ù–∞—Å—Ç—Ä–æ–µ–Ω Tailwind CSS

### 2. –ö–æ–¥
- –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è localStorage
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ services/page.tsx
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ staff/page.tsx
- –£–¥–∞–ª–µ–Ω loadFromStorage –∏–∑ settings/page.tsx
- –£–ø—Ä–æ—â–µ–Ω middleware (–≤—Ä–µ–º–µ–Ω–Ω–æ)

### 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –û–±–Ω–æ–≤–ª–µ–Ω next.config.js
- –ù–∞—Å—Ç—Ä–æ–µ–Ω docker-compose.yml
- –°–æ–∑–¥–∞–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 1. –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
```bash
cd ~/qlink
git pull origin main
docker-compose down
docker rmi qlink_frontend
docker-compose up -d --build frontend
```

### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–ï—Å–ª–∏ –Ω—É–∂–Ω—ã SMTP, SMS, –ø–ª–∞—Ç–µ–∂–∏ - –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ:
```bash
nano packages/backend/.env
docker-compose restart backend
```

### 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–º–µ–Ω –∏ SSL
–ï—Å–ª–∏ –Ω—É–∂–µ–Ω –¥–æ–º–µ–Ω–Ω—ã–π –∞–¥—Ä–µ—Å –≤–º–µ—Å—Ç–æ IP:
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS –∑–∞–ø–∏—Å–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ nginx –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —á–µ—Ä–µ–∑ certbot

### 4. –í–∫–ª—é—á–∏—Ç—å middleware –æ–±—Ä–∞—Ç–Ω–æ
–ö–æ–≥–¥–∞ –≤—Å—ë —Å—Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ –∏–∑ packages/frontend/src/middleware.ts.disabled
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
# –í—Å–µ –ª–æ–≥–∏
docker-compose logs -f

# –¢–æ–ª—å–∫–æ frontend
docker-compose logs -f frontend

# –¢–æ–ª—å–∫–æ backend
docker-compose logs -f backend
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—ë
docker-compose restart

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ frontend
docker-compose restart frontend

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ backend
docker-compose restart backend
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
```bash
# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –ü—Ä–æ–≤–µ—Ä–∫–∞ backend API
curl http://localhost:4000/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ frontend
curl http://localhost:3000
```

## –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
```bash
# –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø
docker exec qlink-postgres pg_dump -U postgres qlink > backup.sql

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –±—ç–∫–∞–ø–∞
docker exec -i qlink-postgres psql -U postgres qlink < backup.sql
```

### –ö–æ–¥
```bash
# –í—Å—ë –≤ Git, –ø—Ä–æ—Å—Ç–æ –¥–µ–ª–∞–π—Ç–µ –∫–æ–º–º–∏—Ç—ã
git add -A
git commit -m "–æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
git push origin main
```

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `docker-compose ps`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ: `docker-compose restart`
4. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ: `docker-compose up -d --build`

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- Production build Next.js
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ Docker –æ–±—Ä–∞–∑—ã
- PostgreSQL —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏
- Redis –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

–î–ª—è —É–ª—É—á—à–µ–Ω–∏—è:
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ nginx –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- –í–∫–ª—é—á–∏—Ç–µ gzip —Å–∂–∞—Ç–∏–µ
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ CDN –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î

---

**–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ
